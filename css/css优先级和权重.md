# css优先级和权重

1. ## 权重概念

   权重，是一个相对的概念，是针对某一指标而言。某一指标的权重是指该指标在整体评价中的相对重要程度。
   权重系数，是表示某一指标项在指标项系统中的重要程度，它表示在其它指标项不变的情况下，这一指标项的变化，对结果的影响。

2. ## css权重的理解

   每一个css的选择器都有一个相对的重要程度值，也就是权重的值，简称“权值”；
   css通过css选择器的权重占比，来计算css选择规则的总权值，从而确定 定义样式规则的 优先级次序；
   从“css权重的理解”中得知，原来所谓为的 css选择规则的优先级 是按照 css选择器的权值的比较 来确定的；

3. ## css优先级规则

   1. css选择规则的权值不同时，权值高的优先；
   2. css选择规则的权值相同时，后定义的规则优先；
   3. css属性后面加 !important 时，无条件绝对优先；

4. ## 权值的计算

   ### css选择器的权值等级划分：

   ![img](/Users/zhang/blog/734402-20180315180252953-849133314.png)

   ### 权值等级划分， 一般来说是划分4个等级：

   - 第一等级：代表 内联样式，如 style=""，权值为 1,0,0,0；
   - 第二等级：代表 ID选择器，如 #id="", 权值为 0,1,0,0；
   - 第三等级：代表 calss | 伪类 | 属性 选择器，如 .class | :hover,:link,:target | [type], 权值 0,0,1,0；
   - 第四等级：代表 标签 | 伪元素 选择器，如 p | ::after, ::before, ::fist-inline, ::selection, 权值 0,0,0,1；
   - 此外，通用选择器（*），子选择器（>）， 相邻同胞选择器（+）等选择器不在4等级之内，所以它们的权值都为 0,0,0,0；

   ### 权值计算 公式：

   权值 = 第一等级选择器*个数，第二等级选择器*个数，第三等级选择器*个数，第四等级选择器*个数；

   ### 权值比较 规则：

   当两个权值进行比较的时候，是从高到低逐级将等级位上的权重值（如 权值 1,0,0,0 对应--> 第一等级权重值，第二等级权重值，第三等级权重值，第四等级权重值）来进行比较的，而不是简单的 1000*个数 + 100*个数 + 10*个数 + 1*个数 的总和来进行比较的，换句话说，低等级的选择器，个数再多也不会越等级超过高等级的选择器的优先级的;【为什么这么特别强调呢，因为为在网上查资料的时候，看到好多博客是把这个权重值理解成了所有等级的数字之和了】，说到这里 再 配合下图 大家应该就差不多理解了，

   ![img](/Users/zhang/blog/734402-20180315202426014-519601709.png)

   **总结，这个比较规则就是三点**

   1. 先从高等级进行比较，高等级相同时，再比较低等级的，以此类推；
   2. 完全相同的话，就采用 后者优先原则（也就是样式覆盖）；
   3. css属性后面加 !important 时，无条件绝对优先（比内联样式还要优先）；

5. ## 选择器的优先级

   1. css属性!important
   2. 内联样式
   3. ID选择器(#id)
   4. 类选择器(.class) = 伪类选择器(:hover等) = 属性选择器[type等]
   5. 元素选择器(p等) = 伪元素选择器(:after/:before/::selection等)
   6. 通用选择器(*)
   7. 继承的样式